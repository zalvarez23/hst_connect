<ion-view title="{{'FORGOT_USERNAME'|translate}}" id="page12" hide-back-button="true" cache-view="false">
    <ion-content has-bouncing="false"  padding="true" class="has-header" ng-controller="forgotPasswordCtrl as ctrl">        
        <form class="list form-group" name="forgot" >
            <div class="mainContainer" ng-hide="showQuestionContainer">
                <div class="list list-inset">
                    <label class="item item-input border-radius-10" ng-class="{'has-error':submitted && forgot.memberId.$error.required}">
                        <i class="ion icon ion-custom-person placeholder-icon"></i>                       
                        <input type="text" 
                            name="memberId"
                            placeholder="{{'MEMBERID' | translate}}"
                            ng-model="view.memeberId"
                            ng-required="true">
                    </label>                    
                </div>
                <div class="list list-inset">
                    <label class="item item-input border-radius-10" ng-class="{'has-error':submitted && forgot.dob.$error.required}">
                        <i class="ion icon ion-custom-calendar placeholder-icon"></i>
                        <input type="text" placeholder="{{'BIRTH_DATE' | translate}}" ng-model="view.birthDate" name="dob" ng-required="true" ng-click="selectDate()" onfocus="this.blur()">
                     </label>
                     
                </div>
                <div class="list list-inset">
                    <label class="item item-input border-radius-10">
                        <i class="ion icon ion-group  placeholder-icon"></i>
                        <input type="text" 
                            placeholder="{{'GROUPID' | translate}}"
                            ng-model="view.groupId">
                    </label>
                </div>
            </div>
        </form>
        <form class="list form-group" name="questionForm" >
            <div class="questionContainer" ng-show="showQuestionContainer">
                <div id="forgotPassword-markdown1" class="text-center">                   
                    <p> {{'FORGOT_USERNAME' | translate}}: {{'SECURITY_QUESTION' | translate}}</p>
                </div>
                <div class="list list-inset">
                    <label class="item item-input border-radius-10">
                        <i class="ion icon placeholder-icon"></i>
                        <div class="textbreak bg-white"> {{userIdentityRes.message.SecurityQ1}} </div>
                    </label>
                </div>
                <div class="list list-inset">
                    <label class="item item-input border-radius-10" ng-class="{'has-error':questionFormSubmitted && questionForm.ans1.$error.required}">
                        <i class="ion icon placeholder-icon"></i>
                        <input type="text" ng-model="userAnswer.ans1" ng-required="true" name="ans1">
                    </label>                     
                </div>
                 <div class="list list-inset">
                    <label class="item item-input border-radius-10">
                        <i class="ion icon placeholder-icon"></i>
                        <div class="textbreak bg-white"> {{userIdentityRes.message.SecurityQ2}} </div>
                    </label>
                </div>
                <div class="list list-inset">
                    <label class="item item-input border-radius-10" ng-class="{'has-error':questionFormSubmitted && questionForm.ans2.$error.required}">
                        <i class="ion icon placeholder-icon"></i>
                        <input type="text" ng-model="userAnswer.ans2" ng-required="true" name="ans2">
                    </label>                     
                </div>
            </div>
        </form>
        <div class="row"> 
            <div class="col col-offset-10">
                <button ui-sref="login" class="button button-stable button-block border-radius-10 button-txt-white">{{'CANCEL' | translate}}</button>
            </div>
            <div class="col" ng-hide="showQuestionContainer">
                <button class="button button-block button-stable border-radius-10 button-txt-white" ng-click="submitted = true; validate()">{{'NEXT' | translate}}</button>
            </div> 
            <div class="col" ng-show="showQuestionContainer" class="ng-hide">
                <button  class="button button-block button-stable border-radius-10 button-txt-white" ng-click="questionFormSubmitted = true; submit()">{{'SUBMIT' | translate}}</button>
            </div>
            <div class="col-10"></div>
        </div>
       
    </ion-content>
</ion-view>